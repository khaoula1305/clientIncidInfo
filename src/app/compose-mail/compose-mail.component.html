<h1>Composer votre mail</h1>
<div class="card my-5">
    <div class="card-body">
      <form (ngSubmit)="onSubmit(message)"  #message="ngForm">
        <div class="form-group">
          <label for="titre">Titre de message</label>
          <input type="text"
                 class="form-control"
                 id="titre"
                 required
                 maxlength="50"
                 [(ngModel)]="MailClicked.titre"
                 name="titre"
                 #titre="ngModel"
                 placeholder="{{ MailClicked.titre }}"
               >
        </div>
        <div [hidden]="!titre.pristine" class="alert alert-danger" *ngIf="titre.touched && titre.invalid">Titre est obligatoire</div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea
                    cols="20"
                    rows="6"
                 class="form-control"
                 id="description"
                 name="description"
                 placeholder="{{ MailClicked.response }}"
                    [(ngModel)]="MailClicked.response"
          required
          #description="ngModel"
          ></textarea>
          <div *ngIf="description.touched && description.invalid" class="alert alert-danger">Description est obligatoire</div>
        </div>
        <div  class="form-group">
          <select
            required
            ngModel
            name="receiver"
            #receiver="ngModel"
                  class="form-control"
                  size="1"
                  *ngIf="receivers"
          (ngModelChange)="ManagerTechnicien(receiver.value) ">
            <option value="">Envoyer à </option>

            <option *ngFor="let r of receivers"  (selectionchange)="ManagerTechnicien(r.valueOf())" [value]="r.valueOf()" >{{r.valueOf()}}</option>
            <div *ngIf="receiver.invalid" class="alert alert-danger">Description est obligatoire</div>
          </select>

        </div>
        <div  [hidden]="ManTech" class="form-group">
          <select
                  ngModel
                  name="technician"
                  #technician="ngModel"
                  class="form-control"
                  size="1"
                  *ngIf="users" >
            <option value="">Envoyer à </option>
            <option *ngFor="let user of users"  [value]="user.nom" >{{user.fonction }} : {{user.nom}} </option>

            <div *ngIf="technician.invalid" class="alert alert-danger">Description est obligatoire</div>
          </select>
        </div>

        <button type="submit"
                class="btn btn-info">Envoyer</button>
      </form>
    </div>
  </div>

